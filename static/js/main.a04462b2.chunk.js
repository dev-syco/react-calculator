(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{183:function(e,t,n){e.exports=n(397)},188:function(e,t,n){},389:function(e,t,n){},390:function(e,t,n){},391:function(e,t,n){},392:function(e,t,n){},393:function(e,t,n){},394:function(e,t,n){},395:function(e,t,n){},396:function(e,t,n){},397:function(e,t,n){"use strict";n.r(t);var r,s=n(3),a=n.n(s),o=n(178),c=n.n(o),i=(n(188),n(189),n(198),n(16)),u=n(17),l=n(19),p=n(18),h=n(20),E=n(84),f=n(182),d=n(50),b=n(179);n(389);!function(e){e.TEXT="text",e.PASSWORD="password"}(r||(r={}));var m,v,y=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement("input",this.props)}}]),t}(s.Component);n(390);!function(e){e.CLEAN="C",e.BRACKETS="()",e.PERCENT="%",e.POW="^",e.RADICAL="\u221a",e.PLUS="+",e.MINUS="-",e.MULTIPLY="\xd7",e.DIVIDE="\xf7",e.EQUAL="=",e.FLOAT=",",e.ZERO="0",e.ONE="1",e.TWO="2",e.THREE="3",e.FOUR="4",e.FIVE="5",e.SIX="6",e.SEVEN="7",e.EIGHT="8",e.NINE="9"}(m||(m={})),function(e){e.OPEN="(",e.CLOSE=")"}(v||(v={}));var O,x=["/","\xf7","*","\xd7","x","x","X","=","-","\u2212","+","^","\u221a"],j=[].concat(x,["%",".",",","0","1","2","3","4","5","6","7","8","9","(",")"]);function k(e){var t=[];return e.forEach((function(e){"object"===typeof e?Object.keys(e).forEach((function(n){e[n]&&t.push(n)})):t.push(e)})),t.join(" ")}function C(e){return N(e).replace(/\./g,",")}function N(e){return e.replace(/ /g,"")}function g(e){var t=!1,n=!0,r=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var c=a.value,i=e.indexOf(c);if(x.includes(c)&&i+1!==e.length)return t=!0}}catch(u){r=!0,s=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw s}}return t}!function(e){e.UNCLOSED_PARENTHESES="Unclosed parentheses"}(O||(O={}));var S=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(n=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).onClickExpandExpression=n.expandExpression.bind(Object(d.a)(n)),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"expandExpression",value:function(){this.isExpandable&&this.props.onExpandExpression&&this.props.onExpandExpression()}},{key:"render",value:function(){var e,t=this.props,n=t.expression,s=t.result,o=t.onChange,c=t.resultAsExpression;return e=n&&s?a.a.createElement("div",{className:"screen-component-result"},a.a.createElement("div",{className:k(["screen-component-result--expression",{expand:this.isExpandable}]),onClick:this.onClickExpandExpression},n),a.a.createElement("div",{className:"screen-component-result--result"},a.a.createElement("span",null,"="),s)):a.a.createElement("div",{className:"screen-component-result"}),a.a.createElement("div",{className:"screen-component"},e,a.a.createElement(y,{type:r.TEXT,value:c&&s?s.toString():n,placeholder:"0",onChange:o,autoFocus:!0}))}},{key:"isExpandable",get:function(){var e=this.props,t=e.result;return e.resultAsExpression&&t}}]),t}(s.Component),A=n(180),T=n.n(A),I=(n(391),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:this.classNames,style:this.styles},this.props.children)}},{key:"classNames",get:function(){var e=this.props.className,t=["grid-cell-component"];return e instanceof Array?t=t.concat(e):e&&t.push(e),t.join(" ")}},{key:"styles",get:function(){var e=this.props.size;return{flexBasis:e?"".concat(100*e,"%"):""}}}]),t}(s.Component)),L=(n(392),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"wrapWithCellComponent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.a.createElement(I,Object.assign({key:T()()},t),e)}},{key:"render",value:function(){return a.a.createElement("div",{className:"grid-component"},this.gridCells)}},{key:"gridCells",get:function(){var e=this,t=this.props.cols;return this.props.children instanceof Array?this.props.children.map((function(n){var r=n.props.colspan;return e.wrapWithCellComponent(n,Object(E.a)({size:(r||1)/t},n.props))})):this.wrapWithCellComponent(this.props.children,{size:1})}}]),t}(s.Component)),w=(n(393),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement("button",{onClick:this.props.onClick},this.props.label)}}]),t}(s.Component)),B=(n(394),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"keyboard-component"},a.a.createElement(L,{cols:4},this.props.keyboardButtonsProps.map((function(e,t){return a.a.createElement(w,Object.assign({key:t},e))}))))}}]),t}(s.PureComponent)),P=n(181),R=(n(395),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(p.a)(t).call(this,e))).keyboardButtons=(new Map).set(m.CLEAN,{onClick:function(){return n.cleanExpression()},className:"light-blue"}).set(m.BRACKETS,{onClick:function(){return n.addBrackets()},className:"light-blue"}).set(m.PERCENT,{className:"light-blue"}).set(m.DIVIDE,{className:"blue"}).set(m.SEVEN,{}).set(m.EIGHT,{}).set(m.NINE,{}).set(m.MULTIPLY,{className:"blue"}).set(m.FOUR,{}).set(m.FIVE,{}).set(m.SIX,{}).set(m.MINUS,{className:"blue"}).set(m.ONE,{}).set(m.TWO,{}).set(m.THREE,{}).set(m.PLUS,{className:"blue"}).set(m.ZERO,{colspan:2}).set(m.FLOAT,{}).set(m.EQUAL,{onClick:function(){return n.calculateExpression(!0)},className:"green"}),n.computedButtonsCache=[],n.calculateDebounced=Object(b.debounce)((function(){return n.calculateExpression()}),250),n.onScreenInput=n.handleScreenInput.bind(Object(d.a)(n)),n.onExpandExpression=n.resetResultAsExpression.bind(Object(d.a)(n)),n.state={expression:"",result:void 0,resultAsNewExpression:!1},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.state.expression!==t.expression&&this.calculateDebounced()}},{key:"handleScreenInput",value:function(e){var t=N(e.currentTarget&&e.currentTarget.value),n=e.nativeEvent;if((n.data&&n.data.trim())===m.EQUAL)return this.calculateExpression(!0);(function(e,t){var n=!0,r=!0,s=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var i=o.value;if(!t.includes(i))return n=!1}}catch(u){s=!0,a=u}finally{try{r||null==c.return||c.return()}finally{if(s)throw a}}return n})(t,j)&&this.setState({expression:C(t),resultAsNewExpression:!1})}},{key:"onButtonClickDefault",value:function(e){var t=this;return function(){t.addToExpression(e)}}},{key:"addToExpression",value:function(e){return this.setState((function(t){var n=t.resultAsNewExpression,r=t.expression,s=t.result;return{expression:(n?s:r)+e}}))}},{key:"cleanExpression",value:function(){this.setState({expression:"",result:void 0})}},{key:"resetResultAsExpression",value:function(){this.setState({resultAsNewExpression:!1})}},{key:"addBrackets",value:function(){var e=this.state.expression;this.addToExpression(function(e,t){var n={opened:0,closed:0},r=!0,s=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var i=o.value;i===t.open&&n.opened++,i===t.close&&n.closed++}}catch(u){s=!0,a=u}finally{try{r||null==c.return||c.return()}finally{if(s)throw a}}return n.opened===n.closed?t.open:t.close}(e,{open:v.OPEN,close:v.CLOSE}))}},{key:"calculateExpression",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=void 0;g(this.state.expression)&&(t=C(this.getCalculated())),"NaN"===t&&(t=void 0),this.setState({result:t,resultAsNewExpression:e})}},{key:"getCalculated",value:function(){try{var e=function(e){return N(e).replace(/,/g,".")}(this.state.expression);return function(e){var t=e.toString().split("+"),n=t[0],r=t[1];return r?"".concat(n).concat(m.MULTIPLY,"10").concat(m.POW).concat(r):n}(P.QuickMath.calculate(e))}catch(t){return t.message!==O.UNCLOSED_PARENTHESES?(console.error(t.message),"Error"):""}}},{key:"render",value:function(){return a.a.createElement("div",{className:"calculator-component"},a.a.createElement(S,{expression:this.state.expression,resultAsExpression:this.state.resultAsNewExpression,result:this.state.result,onChange:this.onScreenInput,onExpandExpression:this.onExpandExpression}),a.a.createElement(B,{keyboardButtonsProps:this.calculatorKeyboardButtonsAsArray}))}},{key:"calculatorKeyboardButtonsAsArray",get:function(){var e=this,t=!0,n=!1,r=void 0;try{for(var s,a=function(){var t=s.value,n=(c=Object(f.a)(t,2))[0],r=c[1],a=Object(E.a)({label:n},r,{onClick:r.onClick||e.onButtonClickDefault(n)});e.computedButtonsCache.filter((function(e){return e.label===a.label})).length||e.computedButtonsCache.push(a)},o=this.keyboardButtons.entries()[Symbol.iterator]();!(t=(s=o.next()).done);t=!0){var c;a()}}catch(i){n=!0,r=i}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return this.computedButtonsCache}}]),t}(s.Component)),U=(n(396),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"app"},a.a.createElement("main",null,a.a.createElement(R,null)))}}]),t}(s.Component));c.a.render(a.a.createElement(U,null),document.getElementById("root"))}},[[183,1,2]]]);
//# sourceMappingURL=main.a04462b2.chunk.js.map